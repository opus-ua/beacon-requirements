\section{Requirements}
    \subsection{Functional Requirements - Frontend}
        \subsubsection{View Map}
            \subsubsubsection{Inputs}
                \textit{Geotag:} The current location of the user.

            \subsubsubsection{Processing}
                Poll the backend for local beacons.

            \subsubsubsection{Outputs}
                The frontend will display a map overlaid with the beacons returned
                by the backend.

            \subsubsubsection{Error Handling}
                If a geotag cannot be acquired, the frontend will display an error
                message. \newline
                \input{src/tex/generic-error-1.tex}

        \subsubsection{Post Beacon}
            \subsubsubsection{Inputs}
                \textit{Image:} A picture taken in-app by the user. \newline
                \textit{Description:} An optional string describing the image. \newline
                \textit{Geotag:} The current location of the user.

            \subsubsubsection{Processing}
                The frontend will submit the provided information to the backend.

            \subsubsubsection{Outputs}
                The frontend will display the thread view of the newly created beacon.

            \subsubsubsection{Error Handling}
                If a geotag cannot be acquired, the frontend will display an error
                message. \newline
                \input{src/tex/generic-error-1.tex}

        \subsubsection{View Comment Thread}
            \subsubsubsection{Inputs}
                \textit{Beacon:} The beacon whose comment thread is to be displayed.

            \subsubsubsection{Processing}
                The full comment thread and full-size image will be requested from
                the backend.

            \subsubsubsection{Outputs}
                The comment thread for the beacon in question will be displayed.

            \subsubsubsection{Error Handling}
                \input{src/tex/generic-error-1.tex}

        \subsubsection{Heart Post}
            \subsubsubsection{Inputs}
                \textit{Post:} The post to be hearted.

            \subsubsubsection{Processing}
                A request is sent to the backend to heart the post in question.

            \subsubsubsection{Outputs}
                The heart icon is visually filled.

            \subsubsubsection{Error Handling}
                \input{src/tex/generic-error-1.tex}

        \subsubsection{Post Comment}
            \subsubsubsection{Inputs}
                \textit{Beacon:} The beacon to which the comment will be appended.
                                \newline
                \textit{Comment:} The textual body of the comment to be posted.

            \subsubsubsection{Processing}
                The comment is submitted to the backend.

            \subsubsubsection{Outputs}
                The thread is updated to include the newly posted comment.

            \subsubsubsection{Error Handling}
                \input{src/tex/generic-error-1.tex}

        \subsubsection{View User Profile}
            \subsubsubsection{Inputs}
                \textit{User ID:} The ID of the user whose profile is to be
                                        displayed.

            \subsubsubsection{Processing}
                The profile information of the user in question will be requested from
                the backend.

            \subsubsubsection{Outputs}
                The profile of the requested user will be displayed.

            \subsubsubsection{Error Handling}
                \input{src/tex/generic-error-1.tex}

        \subsubsection{Flag Post}
            \subsubsubsection{Inputs}
                \textit{Post:} The post to be flagged. \newline
                \textit{Reason:} The reason that this post is being flagged.

            \subsubsubsection{Processing}
                The flagging is submitted to the backend. 

            \subsubsubsection{Outputs}
                A message indicating that the flag has been submitted is displayed
                to the user.

            \subsubsubsection{Error Handling}
                \input{src/tex/generic-error-1.tex}

        \subsubsection{Account Creation}
            \subsubsubsection{Inputs}
                \textit{Credentials:} Authorization information generated by a third
                                        party service. \newline
                \textit{Username:} The desired username of the new user.

            \subsubsubsection{Processing}
                A request to create a new account is submitted to the backend.

            \subsubsubsection{Outputs}
                Upon success, map view is displayed.

            \subsubsubsection{Error Handling}
                If an existing user already has the requested username, the new user
                will be requested to input another username and the submission process
                is repeated. \newline
                \input{src/tex/generic-error-1.tex}

    \subsection{Use Cases}
        \begin{figure}[H]
            \centering
            \includegraphics{tmp/frontend-use-case.1} 
            \caption{Frontend Use Case Diagram}
        \end{figure}

        \begin{figure}[H]
            \centering
            \includegraphics{tmp/backend-use-case.1} 
            \caption{Backend Use Case Diagram}
        \end{figure}

        Note that due to the tight integration between the frontend and backend,
        the two use case diagrams above mirror each other quite closely.
        Nearly every action possible within the frontend requires data from the
        backend and every function of the backend is intended to be used by the
        frontend.

        \subsubsection{View Map}
        \begin{figure}[H]
            \centering
            \includegraphics{tmp/activity-view-map.1} 
            \caption{Activity Diagram - View Map}
        \end{figure}

        \paragraph*{}
        When the user opens map view, the frontend will take a geotag of the device's
        current location. This geotag is used to construct a REST request
        for the beacons near these coordinates.
        The backend receives this REST request and polls the database for the desired
        beacons. The resulting list is formatted into a REST response and sent back
        to the frontend. The frontend then displays this list of beacons as icons
        overlaid on a map.

        \subsubsection{Post Beacon}
        \begin{figure}[H]
            \centering
            \includegraphics{tmp/activity-post-beacon.1} 
            \caption{Activity Diagram - Post Beacon}
        \end{figure}

        \paragraph*{}
        When the user opens camera view, the frontend will allow them to take a picture
        of their surroundings. If the user does not like the picture they have taken,
        they may discard the current picture and take a new one. Next, they will be
        prompted to enter an optional text description. The user then selects an icon
        to indicate that they are satisfied with the beacon in its current state. The
        frontend then takes a geotag and bundles the geotag, image, and text into a
        REST request, which it sends to the backend. The backend adds this beacon to
        the database and returns a response indicating success. Finally, the frontend
        opens the newly created beacon in thread view.

        \subsubsection{View Comment Thread}
        \begin{figure}[H]
            \centering
            \includegraphics{tmp/activity-view-thread.1} 
            \caption{Activity Diagram - View Thread}
        \end{figure}

        \paragraph*{}
        When the user selects a beacon or otherwise navigates to thread view, the
        frontend will construct a REST request for the entire comment thread. The
        backend receives this request and polls the database for the corresponding
        beacon, including its image, its description, its popularity, and any 
        corresponding comments. It bundles this information into a REST response
        and sends it back to the frontend. The frontend decodes this information
        and displays the thread.

        \subsubsection{Heart Post}
        \begin{figure}[H]
            \centering
            \includegraphics{tmp/activity-heart-post.1} 
            \caption{Activity Diagram - Heart Post}
        \end{figure}

        \paragraph*{}
        Note that this use case is a generalization over two actions: hearting a post
        and unhearting a post. While the execution flow will be the same between the two
        actions, there will be two separate URIs present on the backend in order to
        achieve idempotent behavior.

        \paragraph*{}
        The user hearts a post by selecting a heart icon. The frontend determines if
        this action is valid based on its local record of whether the use has already
        hearted this post. If valid, the frontend constructs a REST request to heart
        the post and passes the request onto the backend. Next, the backend checks
        whether hearting this post is valid based on its own records. If not, it
        returns an error message. If so, it returns success and the frontend visually
        fills the heart icon.

        \subsubsection{Post Comment}
        \begin{figure}[H]
            \centering
            \includegraphics{tmp/activity-post-comment.1} 
            \caption{Activity Diagram - Post Comment}
        \end{figure}

        \paragraph*{}
        When the user opens thread view for a particular post and selects the "add
        comment" option, they will be prompted with a text box. After entering text
        and selecting a submit icon, the frontend will construct a REST request
        containing the new comment and submit it to the backend. The backend will add
        this comment to the database and associate it with the appropriate beacon.
        Finally, the backend will return a message indicating success and the frontend
        will display the newly added comment as part of the thread.

        \subsubsection{View User Profile}
        \begin{figure}[H]
            \centering
            \includegraphics{tmp/activity-view-profile.1} 
            \caption{Activity Diagram - View User Profile}
        \end{figure}

        \paragraph*{}
        When the user opens profile view - for example, by selecting a username from
        thread view - the frontend will request a list of the indicated user's posts
        from the backend. The backend will poll the database for this list and return
        it to the frontend as a REST response. Finally, the frontend will display the
        list.

        \subsubsection{Follow User}
        \begin{figure}[H]
            \centering
            \includegraphics{tmp/activity-follow-user.1} 
            \caption{Activity Diagram - Follow User}
        \end{figure}

        \paragraph*{}
        From profile view, the user may select an icon in order to follow a user. Once
        the icon is selected, the frontend will construct a request to the backend. The
        backend will add the requesting user to the requested user's list of followers.
        Finally, the frontend will indicate that the requested user has been followed.

        \subsubsection{Flag Post}
        \begin{figure}[H]
            \centering
            \includegraphics{tmp/activity-flag-post.1} 
            \caption{Activity Diagram - Flag Post}
        \end{figure}

        \paragraph*{}
        From thread view, the user may select a flag icon to flag a post as abusive.
        After selecting the icon, the user will be prompted with a dropdown menu of
        reasons why they consider this post to be abusive. The frontend will insure
        that this post has not already been flagged by the user. If it hasn't, it will
        construct a request for this post to be flagged by the backend. The backend
        will check that the user has not already flagged this post. If they have not,
        the backend will increment the number of times this post has been flagged and
        return a message indicating success to the frontend. Finally, the frontend will
        indicate to the user that the flagging was successful.
        
        \subsubsection{Create Account}
        \begin{figure}[H]
            \centering
            \includegraphics{tmp/activity-create-account.1} 
            \caption{Activity Diagram - Create Account}
        \end{figure}

        \paragraph*{}
        When first opening the frontend, the user will be prompted to create a new
        account. They will be prompted to authenticate using a third party service
        such as Facebook or Google Accounts. After completing this external
        authentication process, the frontend will submit the credentials to the
        backend. The backend will verify these credentials and create a new account,
        returning a message indicating success to the frontend. Finally, the frontend
        will open map view.


    \subsection{Class Diagrams}
        \subsubsection{Frontend Class Diagram}
            \begin{figure}[H]
                \centering
                \includegraphics{tmp/classes.1} 
                \caption{Frontend Class Diagram}
            \end{figure}

        \subsubsection{Backend Class Diagram}

    \subsection{Non-functional Requirements}

